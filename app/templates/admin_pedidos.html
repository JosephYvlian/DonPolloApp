{% extends "base.html" %}

{% block content %}
<div class="navbar">
    <div class="navbar-content">
        <h1>üêî Don Pollo - Panel de Administraci√≥n</h1>
        <div class="nav-links">
            <a href="{{ url_for('admin_logout') }}">Cerrar Sesi√≥n</a>
        </div>
    </div>
</div>

<div class="admin-nav">
    <div style="max-width: 1200px; margin: 0 auto;">
        <a href="{{ url_for('admin_dashboard') }}">Dashboard</a>
        <a href="{{ url_for('admin_productos') }}">Productos</a>
        <a href="{{ url_for('admin_pedidos') }}" style="color: #FFD700;">Pedidos</a>
        <a href="{{ url_for('admin_facturas') }}">Facturas</a>
    </div>
</div>

<div class="container">
    <h2 style="margin-bottom: 2rem;">Registro de Pedidos</h2>
    
    {% if pedidos %}
    <table>
        <thead>
            <tr>
                <th>N√∫mero de Orden</th>
                <th>Cliente</th>
                <th>Tel√©fono</th>
                <th>Total</th>
                <th>M√©todo de Pago</th>
                <th>Estado</th>
                <th>Fecha</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for pedido in pedidos %}
            <tr>
                <td><strong>{{ pedido[1] }}</strong></td>
                <td>{{ pedido[2] }}</td>
                <td>{{ pedido[3] }}</td>
                <td>${{ '{:,.0f}'.format(pedido[6]) }}</td>
                <td style="text-transform: capitalize;">{{ pedido[5] }}</td>
                <td>
                    <span style="padding: 0.3rem 0.8rem; border-radius: 5px; font-size: 0.85rem; font-weight: bold;">
                        {{ pedido[7]|upper }}
                    </span>
                </td>
                <td>{{ pedido[8] }}</td>
                <td>
                    <a href="{{ url_for('admin_detalle_pedido', pedido_id=pedido[0]) }}" class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem;">Ver Detalle</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div style="text-align: center; padding: 3rem; background: white; border-radius: 8px;">
        <p style="font-size: 1.2rem; color: #666;">No hay pedidos registrados</p>
    </div>
    {% endif %}
</div>
{% endblock %}